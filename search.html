<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<!-- Favicon -->
<link rel="icon" type="image/svg+xml" href="/content/images/favicon.svg">
<link rel="icon" type="image/png" sizes="96x96" href="/content/images/favicon-96x96.png">
<link rel="apple-touch-icon" sizes="180x180" href="/content/images/apple-touch-icon.png">
<link rel="shortcut icon" href="/content/images/favicon.ico">

<title>Search Results - Wow Glam Decor</title>
<meta name="robots" content="noindex, follow"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
:root{--brand:#7e0882;--brand-dark:#5a0660;--brand-light:#a020a8;--brand-pale:rgba(126,8,130,0.07);--off-white:#fafafa;--gray-100:#f5f5f5;--gray-200:#eee;--gray-600:#757575;--gray-800:#424242;--gray-900:#212121;--shadow-sm:0 2px 12px rgba(126,8,130,0.08);--shadow-md:0 8px 32px rgba(126,8,130,0.13);--radius:16px;--ease:cubic-bezier(0.4,0,0.2,1)}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Nunito',sans-serif;background:var(--off-white);color:var(--gray-900);line-height:1.6}
a{text-decoration:none}
.navbar{background:rgba(255,255,255,0.96);backdrop-filter:blur(16px);box-shadow:var(--shadow-sm);position:sticky;top:0;z-index:100}
.nav-container{max-width:1400px;margin:0 auto;padding:13px 24px;display:flex;align-items:center;justify-content:space-between;gap:24px}
.logo{height:48px}
.nav-menu{display:flex;gap:2px}
.nav-link{color:var(--gray-800);font-weight:700;font-size:14px;padding:8px 14px;border-radius:8px;transition:all 0.2s}
.nav-link:hover{background:var(--brand-pale);color:var(--brand)}
.search-box{position:relative;display:flex;align-items:center}
.search-input{width:320px;padding:8px 36px 8px 14px;border:2px solid var(--gray-200);border-radius:8px;font-family:'Nunito',sans-serif;font-size:14px;transition:all 0.2s}
.search-input:focus{outline:none;border-color:var(--brand);width:400px}
.search-btn{position:absolute;right:8px;background:none;border:none;cursor:pointer;font-size:18px;color:var(--gray-600);padding:4px}
.container{max-width:1200px;margin:0 auto;padding:40px 24px}
.search-header{text-align:center;margin-bottom:48px}
.search-header h1{font-size:2.5rem;font-weight:900;color:var(--gray-900);margin-bottom:12px}
.search-query{color:var(--brand);font-weight:800}
.results-count{color:var(--gray-600);font-size:1.1rem}
.loading{text-align:center;padding:60px 20px;font-size:1.2rem;color:var(--gray-600)}
.no-results{text-align:center;padding:60px 20px}
.no-results h2{font-size:1.8rem;font-weight:800;color:var(--gray-900);margin-bottom:16px}
.no-results p{color:var(--gray-600);font-size:1.1rem;margin-bottom:24px}
.suggestions{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
.suggestion-tag{background:var(--gray-100);color:var(--gray-800);padding:8px 16px;border-radius:20px;font-size:14px;font-weight:700;transition:all 0.2s}
.suggestion-tag:hover{background:var(--brand);color:#fff}
.posts-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:28px}
.post-card{background:#fff;border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow-sm);display:flex;flex-direction:column;transition:all 0.3s var(--ease);color:inherit}
.post-card:hover{transform:translateY(-5px);box-shadow:var(--shadow-md)}
.card-image-wrap{position:relative;overflow:hidden}
.card-image{width:100%;height:224px;object-fit:cover;transition:transform 0.45s}
.post-card:hover .card-image{transform:scale(1.06)}
.card-cat{position:absolute;bottom:12px;left:12px;background:var(--brand);color:#fff;padding:5px 12px;border-radius:16px;font-size:11px;font-weight:800;text-transform:uppercase}
.card-content{padding:24px;flex:1;display:flex;flex-direction:column}
.card-meta{display:flex;gap:12px;font-size:12px;color:var(--gray-600);margin-bottom:10px}
.card-title{font-size:1.15rem;font-weight:800;line-height:1.3;margin-bottom:10px;color:var(--gray-900)}
.card-excerpt{font-size:14px;color:var(--gray-600);line-height:1.65;flex:1;margin-bottom:16px}
.card-link{color:var(--brand);font-weight:800;font-size:14px;display:flex;align-items:center;gap:6px}
.post-card:hover .card-link{gap:10px}
.highlight{background:rgba(255,215,0,0.3);padding:2px 4px;border-radius:3px;font-weight:700}
footer{background:var(--gray-900);color:#fff;padding:40px 24px;margin-top:80px}
.footer-content{max-width:1200px;margin:0 auto;text-align:center}
.footer-content p{opacity:0.7;font-size:14px}
.footer-links{display:flex;gap:20px;justify-content:center;margin-top:16px}
.footer-links a{color:rgba(255,255,255,0.6);font-size:14px;transition:color 0.2s}
.footer-links a:hover{color:#fff}
@media(max-width:768px){.nav-menu{display:none}.search-input{width:180px}.search-input:focus{width:240px}.posts-grid{grid-template-columns:1fr}.search-header h1{font-size:1.8rem}}

<style>
/* ‚ïê‚ïê‚ïê SEARCH WITH AUTO-SUGGEST ‚ïê‚ïê‚ïê */
.search-box {
  position: relative;
  display: flex;
  align-items: center;
  margin-right: 20px;
}
.search-input {
  width: 280px;
  padding: 10px 40px 10px 16px;
  border: 2px solid var(--gray-200);
  border-radius: 24px;
  font-family: 'Nunito', sans-serif;
  font-size: 14px;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
  background: var(--gray-100);
}
.search-input:focus {
  outline: none;
  border-color: var(--brand);
  background: #fff;
  width: 360px;
  box-shadow: 0 4px 16px rgba(126,8,130,0.15);
  border-radius: 24px 24px 0 0;
}
.search-input.has-results:focus {
  border-radius: 24px 24px 0 0;
}
.search-input::placeholder {
  color: var(--gray-600);
  font-weight: 500;
}
.search-btn {
  position: absolute;
  right: 12px;
  background: none;
  border: none;
  cursor: pointer;
  font-size: 18px;
  color: var(--gray-600);
  padding: 6px;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}
.search-btn:hover {
  color: var(--brand);
  transform: scale(1.1);
}

/* Auto-suggest dropdown */
.search-suggestions {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: #fff;
  border: 2px solid var(--brand);
  border-top: none;
  border-radius: 0 0 16px 16px;
  box-shadow: 0 12px 32px rgba(126,8,130,0.18);
  max-height: 420px;
  overflow-y: auto;
  z-index: 999;
  display: none;
}
.search-suggestions.active {
  display: block;
}

.suggestion-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  cursor: pointer;
  transition: all 0.2s;
  border-bottom: 1px solid var(--gray-100);
}
.suggestion-item:last-child {
  border-bottom: none;
}
.suggestion-item:hover,
.suggestion-item.selected {
  background: var(--brand-pale);
}
.suggestion-thumb {
  width: 48px;
  height: 48px;
  border-radius: 8px;
  object-fit: cover;
  flex-shrink: 0;
  background: var(--gray-100);
}
.suggestion-content {
  flex: 1;
  min-width: 0;
}
.suggestion-title {
  font-size: 14px;
  font-weight: 700;
  color: var(--gray-900);
  margin-bottom: 3px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.suggestion-meta {
  font-size: 12px;
  color: var(--gray-600);
  display: flex;
  align-items: center;
  gap: 8px;
}
.suggestion-category {
  background: var(--brand-pale);
  color: var(--brand);
  padding: 2px 8px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 11px;
}

.search-footer {
  padding: 12px 16px;
  background: var(--gray-100);
  text-align: center;
  border-radius: 0 0 14px 14px;
}
.search-footer a {
  color: var(--brand);
  font-weight: 700;
  font-size: 13px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  transition: gap 0.2s;
}
.search-footer a:hover {
  gap: 10px;
}

.no-results {
  padding: 32px 16px;
  text-align: center;
  color: var(--gray-600);
}
.no-results-icon {
  font-size: 2.5rem;
  margin-bottom: 8px;
  opacity: 0.3;
}
.no-results p {
  font-size: 14px;
  margin-bottom: 12px;
}
.popular-searches {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  justify-content: center;
  margin-top: 12px;
}
.popular-tag {
  background: var(--brand-pale);
  color: var(--brand);
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s;
}
.popular-tag:hover {
  background: var(--brand);
  color: #fff;
}

/* Highlight matched text */
.highlight {
  background: rgba(126,8,130,0.15);
  font-weight: 800;
  color: var(--brand);
  padding: 0 2px;
  border-radius: 2px;
}

/* Loading state */
.search-loading {
  padding: 24px;
  text-align: center;
  color: var(--gray-600);
  font-size: 14px;
}
.loading-dots {
  display: inline-flex;
  gap: 4px;
  margin-left: 8px;
}
.loading-dots span {
  width: 6px;
  height: 6px;
  background: var(--brand);
  border-radius: 50%;
  animation: bounce 1.2s infinite;
}
.loading-dots span:nth-child(2) { animation-delay: 0.2s; }
.loading-dots span:nth-child(3) { animation-delay: 0.4s; }
@keyframes bounce {
  0%, 80%, 100% { transform: scale(0.6); opacity: 0.4; }
  40% { transform: scale(1); opacity: 1; }
}

/* ‚ïê‚ïê‚ïê MEGA MENU STYLES ‚ïê‚ïê‚ïê */
/* ‚ïê‚ïê‚ïê MEGA MENU FIX - Replace your mega menu CSS with this ‚ïê‚ïê‚ïê */

.mega-menu-wrapper { 
  position: relative; 
}

.mega-menu-trigger {
  position: relative;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 4px;
}

.mega-menu-trigger::after {
  content: '‚ñæ';
  font-size: 10px;
  transition: transform 0.2s;
}

.mega-menu-trigger:hover::after { 
  transform: rotate(180deg); 
}

/* FIXED: Menu stays within viewport */
.mega-menu {
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(-10px);
  width: 1200px;
  max-width: calc(100vw - 48px); /* Stay within viewport with padding */
  background: #fff;
  box-shadow: 0 12px 48px rgba(126,8,130,0.18);
  border-radius: 0 0 16px 16px;
  padding: 32px;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
  z-index: 999;
}

.mega-menu-wrapper:hover .mega-menu {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(0);
}

.mega-menu-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 32px;
}

.mega-menu-section h4 {
  font-size: 12px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--brand);
  margin-bottom: 16px;
  padding-bottom: 8px;
  border-bottom: 2px solid var(--brand-pale);
}

.mega-menu-links {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.mega-menu-links li a {
  color: var(--gray-800);
  font-size: 14px;
  font-weight: 600;
  padding: 6px 0;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s;
}

.mega-menu-links li a:hover {
  color: var(--brand);
  padding-left: 8px;
}

.mega-menu-links .icon {
  font-size: 16px;
  width: 20px;
  text-align: center;
}

/* Mobile responsive */
@media (max-width: 1024px) {
  .mega-menu-wrapper { display: none; }
}
</style>
</head>
<body>



<nav class="navbar">
  <div class="nav-container">
    <a href="/"><img src="/content/images/logo.jpg" alt="Wow Glam Decor" class="logo"></a>
    
    <!-- AUTO-SUGGEST SEARCH -->
    <div class="search-box">
      <input 
        type="text" 
        id="searchInput" 
        class="search-input" 
        placeholder="Search articles, rooms, styles..."
        autocomplete="off"
      >
      <button class="search-btn" onclick="performSearch()" aria-label="Search">üîç</button>
      
      <!-- Suggestions dropdown -->
      <div class="search-suggestions" id="searchSuggestions"></div>
    </div>
    
    <div class="nav-menu">
      <a href="/" class="nav-link">Home</a>
      <a href="/blog.html" class="nav-link">Blog</a>
      
      <!-- MEGA MENU: Rooms -->
      <div class="mega-menu-wrapper">
        <span class="nav-link mega-menu-trigger">Rooms</span>
        <div class="mega-menu">
          <div class="mega-menu-grid">
            <div class="mega-menu-section">
              <h4>Living Spaces</h4>
              <ul class="mega-menu-links">
                <li><a href="/category/living-room.html"><span class="icon">üõãÔ∏è</span>Living Room</a></li>
                <li><a href="/category/bedroom.html"><span class="icon">üõèÔ∏è</span>Bedroom</a></li>
                <li><a href="/category/dining-room.html"><span class="icon">üçΩÔ∏è</span>Dining Room</a></li>
                <li><a href="/category/home-office.html"><span class="icon">üíª</span>Home Office</a></li>
              </ul>
            </div>
            <div class="mega-menu-section">
              <h4>Functional Rooms</h4>
              <ul class="mega-menu-links">
                <li><a href="/category/kitchen.html"><span class="icon">üç≥</span>Kitchen</a></li>
                <li><a href="/category/bathroom.html"><span class="icon">üöø</span>Bathroom</a></li>
                <li><a href="/category/laundry-room.html"><span class="icon">üß∫</span>Laundry Room</a></li>
                <li><a href="/category/entryway-hallway.html"><span class="icon">üö™</span>Entryway & Hallway</a></li>
              </ul>
            </div>
            <div class="mega-menu-section">
              <h4>Special Spaces</h4>
              <ul class="mega-menu-links">
                <li><a href="/category/kids-room-nursery.html"><span class="icon">üß∏</span>Kids Room & Nursery</a></li>
                <li><a href="/category/outdoor-patio.html"><span class="icon">üåø</span>Outdoor & Patio</a></li>
                <li><a href="/category/balcony-small-spaces.html"><span class="icon">ü™¥</span>Balcony & Small Spaces</a></li>
              </ul>
            </div>
            <div class="mega-menu-section">
              <h4>Popular Guides</h4>
              <ul class="mega-menu-links">
                <li><a href="/category/small-space-storage.html"><span class="icon">üì¶</span>Small Space Storage</a></li>
                <li><a href="/category/rental-friendly-decor.html"><span class="icon">üîë</span>Rental-Friendly</a></li>
                <li><a href="/category/home-makeovers.html"><span class="icon">‚ú®</span>Home Makeovers</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      
      <!-- MEGA MENU: Styles -->
      <div class="mega-menu-wrapper">
        <span class="nav-link mega-menu-trigger">Styles</span>
        <div class="mega-menu">
          <div class="mega-menu-grid">
            <div class="mega-menu-section">
              <h4>Modern Styles</h4>
              <ul class="mega-menu-links">
                <li><a href="/category/modern-style.html"><span class="icon">üèôÔ∏è</span>Modern</a></li>
                <li><a href="/category/minimalist-style.html"><span class="icon">‚óªÔ∏è</span>Minimalist</a></li>
                <li><a href="/category/scandinavian-style.html"><span class="icon">üåø</span>Scandinavian</a></li>
                <li><a href="/category/industrial-style.html"><span class="icon">üè≠</span>Industrial</a></li>
              </ul>
            </div>
            <div class="mega-menu-section">
              <h4>Classic Styles</h4>
              <ul class="mega-menu-links">
                <li><a href="/category/traditional-classic.html"><span class="icon">üèõÔ∏è</span>Traditional & Classic</a></li>
                <li><a href="/category/luxury-glam-decor.html"><span class="icon">üëë</span>Luxury & Glam</a></li>
                <li><a href="/category/boho-rustic-decor.html"><span class="icon">üåª</span>Boho & Rustic</a></li>
              </ul>
            </div>
            <div class="mega-menu-section">
              <h4>Decor Elements</h4>
              <ul class="mega-menu-links">
                <li><a href="/category/wall-decor.html"><span class="icon">üñºÔ∏è</span>Wall Decor</a></li>
                <li><a href="/category/lighting-lamps.html"><span class="icon">üí°</span>Lighting & Lamps</a></li>
                <li><a href="/category/rugs-carpets.html"><span class="icon">üü´</span>Rugs & Carpets</a></li>
                <li><a href="/category/plants-planters.html"><span class="icon">ü™¥</span>Plants & Planters</a></li>
              </ul>
            </div>
            <div class="mega-menu-section">
              <h4>Seasonal</h4>
              <ul class="mega-menu-links">
                <li><a href="/category/seasonal-decor.html"><span class="icon">üçÇ</span>Seasonal Decor</a></li>
                <li><a href="/category/holiday-decor.html"><span class="icon">üéÑ</span>Holiday Decor</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      
      <!-- MEGA MENU: Buying Guides -->
      <div class="mega-menu-wrapper">
        <span class="nav-link mega-menu-trigger">Buying Guides</span>
        <div class="mega-menu">
          <div class="mega-menu-grid">
            <div class="mega-menu-section">
              <h4>By Budget</h4>
              <ul class="mega-menu-links">
                <li><a href="/category/budget-furniture.html"><span class="icon">üí∞</span>Budget Furniture</a></li>
                <li><a href="/category/luxury-furniture.html"><span class="icon">üíé</span>Luxury Furniture</a></li>
                <li><a href="/category/budget-gift-ideas.html"><span class="icon">üéÅ</span>Budget Gifts</a></li>
                <li><a href="/category/luxury-home-gifts.html"><span class="icon">‚ú®</span>Luxury Gifts</a></li>
              </ul>
            </div>
            <div class="mega-menu-section">
              <h4>By Type</h4>
              <ul class="mega-menu-links">
                <li><a href="/category/space-saving-furniture.html"><span class="icon">üìê</span>Space-Saving</a></li>
                <li><a href="/category/multifunctional-furniture.html"><span class="icon">üîÑ</span>Multifunctional</a></li>
                <li><a href="/category/furniture-buying-guides.html"><span class="icon">üìñ</span>Buying Guides</a></li>
              </ul>
            </div>
            <div class="mega-menu-section">
              <h4>Reviews & Lists</h4>
              <ul class="mega-menu-links">
                <li><a href="/category/best-of-lists.html"><span class="icon">üèÜ</span>Best Of Lists</a></li>
                <li><a href="/category/product-reviews.html"><span class="icon">‚≠ê</span>Product Reviews</a></li>
                <li><a href="/category/comparisons.html"><span class="icon">‚öñÔ∏è</span>Comparisons</a></li>
              </ul>
            </div>
            <div class="mega-menu-section">
              <h4>Gift Ideas</h4>
              <ul class="mega-menu-links">
                <li><a href="/category/home-gift-ideas.html"><span class="icon">üéÅ</span>Home Gift Ideas</a></li>
                <li><a href="/category/housewarming-gifts.html"><span class="icon">üè°</span>Housewarming</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      
      <a href="/about.html" class="nav-link">About</a>
    </div>
    
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">‚ò∞</button>
  </div>
</nav>
<div class="container">
  <div class="search-header">
    <h1>Search Results for "<span class="search-query" id="queryDisplay"></span>"</h1>
    <p class="results-count" id="resultsCount">Searching...</p>
  </div>
  
  <div id="searchResults" class="posts-grid">
    <div class="loading">üîç Searching posts...</div>
  </div>
</div>

<footer>
  <div class="footer-content">
    <p>&copy; 2026 Wow Glam Decor. All rights reserved.</p>
    <div class="footer-links">
      <a href="/privacy-policy.html">Privacy</a>
      <a href="/affiliate-disclosure.html">Disclosure</a>
      <a href="/sitemap.xml">Sitemap</a>
    </div>
  </div>
</footer>

<script>
// Get query parameter
function getQueryParam(param) {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get(param);
}

// Highlight search terms in text
function highlightText(text, query) {
  if (!query) return text;
  const regex = new RegExp(`(${query})`, 'gi');
  return text.replace(regex, '<span class="highlight">$1</span>');
}

// Perform search
async function performSearch() {
  const query = document.getElementById('searchInput').value.trim() || getQueryParam('q');
  
  if (!query) {
    document.getElementById('searchResults').innerHTML = `
      <div class="no-results">
        <h2>Please enter a search term</h2>
        <p>Try searching for topics like "living room", "bedroom decor", or "furniture"</p>
      </div>
    `;
    return;
  }
  
  // Update URL without reload
  if (window.history.pushState) {
    const newUrl = `/search.html?q=${encodeURIComponent(query)}`;
    window.history.pushState({path: newUrl}, '', newUrl);
  }
  
  // Update display
  document.getElementById('queryDisplay').textContent = query;
  document.getElementById('searchInput').value = query;
  document.getElementById('resultsCount').textContent = 'Searching...';
  document.getElementById('searchResults').innerHTML = '<div class="loading">üîç Searching posts...</div>';
  
  try {
    // Fetch posts data
    const response = await fetch('/posts.json');
    const posts = await response.json();
    
    // Search in title, description, content, tags, categories
    const searchLower = query.toLowerCase();
    const results = posts.filter(post => {
      const searchableText = [
        post.title,
        post.description,
        post.excerpt,
        post.content,
        post.category,
        ...(post.categories || []),
        ...(post.tags || [])
      ].join(' ').toLowerCase();
      
      return searchableText.includes(searchLower);
    });
    
    // Sort by relevance (title matches first, then description, then content)
    results.sort((a, b) => {
      const aTitle = a.title.toLowerCase().includes(searchLower) ? 3 : 0;
      const aDesc = a.description.toLowerCase().includes(searchLower) ? 2 : 0;
      const aCat = a.category.toLowerCase().includes(searchLower) ? 1 : 0;
      const bTitle = b.title.toLowerCase().includes(searchLower) ? 3 : 0;
      const bDesc = b.description.toLowerCase().includes(searchLower) ? 2 : 0;
      const bCat = b.category.toLowerCase().includes(searchLower) ? 1 : 0;
      return (bTitle + bDesc + bCat) - (aTitle + aDesc + aCat);
    });
    
    // Update results count
    const resultText = results.length === 1 ? '1 result' : `${results.length} results`;
    document.getElementById('resultsCount').textContent = `Found ${resultText}`;
    
    // Display results
    if (results.length === 0) {
      document.getElementById('searchResults').innerHTML = `
        <div class="no-results" style="grid-column: 1/-1;">
          <h2>No results found for "${query}"</h2>
          <p>Try searching with different keywords or browse our categories:</p>
          <div class="suggestions">
            <a href="/category/living-room.html" class="suggestion-tag">Living Room</a>
            <a href="/category/bedroom.html" class="suggestion-tag">Bedroom</a>
            <a href="/category/kitchen.html" class="suggestion-tag">Kitchen</a>
            <a href="/category/best-of-lists.html" class="suggestion-tag">Best Of Lists</a>
            <a href="/blog.html" class="suggestion-tag">All Posts</a>
          </div>
        </div>
      `;
    } else {
      const html = results.map(post => `
        <a href="${post.url}" class="post-card">
          <div class="card-image-wrap">
            <img src="${post.featured_image}" alt="${post.title}" class="card-image">
            <div class="card-cat">${post.category}</div>
          </div>
          <div class="card-content">
            <div class="card-meta">
              <span>üìÖ ${post.dateFormatted}</span>
              <span>‚è±Ô∏è ${post.readTime} min</span>
            </div>
            <h3 class="card-title">${highlightText(post.title, query)}</h3>
            <p class="card-excerpt">${highlightText(post.excerpt, query)}</p>
            <span class="card-link">Read More ‚Üí</span>
          </div>
        </a>
      `).join('');
      
      document.getElementById('searchResults').innerHTML = html;
    }
  } catch (error) {
    console.error('Search error:', error);
    document.getElementById('searchResults').innerHTML = `
      <div class="no-results" style="grid-column: 1/-1;">
        <h2>Oops! Something went wrong</h2>
        <p>We couldn't load the search results. Please try again or <a href="/blog.html" style="color: var(--brand); text-decoration: underline;">browse all posts</a>.</p>
      </div>
    `;
  }
}

// Enter key for search
document.getElementById('searchInput').addEventListener('keypress', (e) => {
  if (e.key === 'Enter') {
    performSearch();
  }
});

// Run search on page load
window.addEventListener('DOMContentLoaded', () => {
  const query = getQueryParam('q');
  if (query) {
    performSearch();
  } else {
    document.getElementById('searchResults').innerHTML = `
      <div class="no-results" style="grid-column: 1/-1;">
        <h2>What are you looking for?</h2>
        <p>Use the search box above to find articles about home decor, furniture, and design tips.</p>
      </div>
    `;
    document.getElementById('queryDisplay').textContent = '';
    document.getElementById('resultsCount').textContent = '';
  }
});
</script>
<script>
(function() {
  const searchInput = document.getElementById('searchInput');
  const suggestionsBox = document.getElementById('searchSuggestions');
  
  if (!searchInput || !suggestionsBox) return; // Exit if elements don't exist
  
  let searchTimeout;
  let selectedIndex = -1;
  let cachedPosts = null;

  // Popular searches for no results state
  const popularSearches = ['Living Room', 'Bedroom Decor', 'Budget Furniture', 'Minimalist', 'Best Of Lists'];

  // Load posts data
  async function loadPosts() {
    if (cachedPosts) return cachedPosts;
    try {
      const res = await fetch('/posts.json');
      if (res.ok) {
        cachedPosts = await res.json();
        return cachedPosts;
      }
    } catch (e) {
      console.log('Posts data not available yet');
    }
    return [];
  }

  // Highlight matching text
  function highlightText(text, query) {
    if (!query || !text) return text;
    const regex = new RegExp(`(${query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`, 'gi');
    return text.replace(regex, '<span class="highlight">$1</span>');
  }

  // Perform search
  async function searchPosts(query) {
    const posts = await loadPosts();
    if (!posts.length) return [];

    const terms = query.toLowerCase().split(/\s+/).filter(Boolean);
    
    return posts
      .map(post => {
        const searchable = `${post.title} ${post.description || post.excerpt || ''} ${(post.tags||[]).join(' ')} ${(post.categories||[]).join(' ')}`.toLowerCase();
        const score = terms.reduce((s, t) => s + (searchable.split(t).length - 1), 0);
        return { ...post, score };
      })
      .filter(p => p.score > 0)
      .sort((a, b) => b.score - a.score)
      .slice(0, 5); // Show top 5 results
  }

  // Render suggestions
  function renderSuggestions(results, query) {
    if (!results.length) {
      suggestionsBox.innerHTML = `
        <div class="no-results">
          <div class="no-results-icon">üîç</div>
          <p>No results for "<strong>${query}</strong>"</p>
          <div class="popular-searches">
            ${popularSearches.map(term => 
              `<span class="popular-tag" onclick="document.getElementById('searchInput').value='${term}'; document.getElementById('searchInput').dispatchEvent(new Event('input'));">${term}</span>`
            ).join('')}
          </div>
        </div>`;
      suggestionsBox.classList.add('active');
      return;
    }

    const html = results.map((post, idx) => {
      const img = post.featured_image || post.image || '/content/images/default-post.jpg';
      const cat = (post.categories && post.categories[0]) || post.category || 'Decor';
      const readTime = post.readTime || Math.ceil((post.content || '').split(/\s+/).length / 200) || '5';
      const url = post.url || `/posts/${post.slug}.html`;
      
      return `
        <a href="${url}" class="suggestion-item" data-index="${idx}">
          <img src="${img}" alt="${post.title}" class="suggestion-thumb" loading="lazy">
          <div class="suggestion-content">
            <div class="suggestion-title">${highlightText(post.title, query)}</div>
            <div class="suggestion-meta">
              <span class="suggestion-category">${cat}</span>
              <span>‚è±Ô∏è ${readTime} min read</span>
            </div>
          </div>
        </a>`;
    }).join('');

    suggestionsBox.innerHTML = html + `
      <div class="search-footer">
        <a href="/search.html?q=${encodeURIComponent(query)}">View all results for "${query}" ‚Üí</a>
      </div>`;
    
    suggestionsBox.classList.add('active');
    selectedIndex = -1;
  }

  // Handle input
  searchInput.addEventListener('input', (e) => {
    const query = e.target.value.trim();
    
    clearTimeout(searchTimeout);
    
    if (!query) {
      suggestionsBox.classList.remove('active');
      searchInput.classList.remove('has-results');
      return;
    }

    if (query.length < 2) return;

    suggestionsBox.innerHTML = '<div class="search-loading">Searching<div class="loading-dots"><span></span><span></span><span></span></div></div>';
    suggestionsBox.classList.add('active');
    searchInput.classList.add('has-results');

    searchTimeout = setTimeout(async () => {
      const results = await searchPosts(query);
      renderSuggestions(results, query);
    }, 300);
  });

  // Handle keyboard navigation
  searchInput.addEventListener('keydown', (e) => {
    const items = suggestionsBox.querySelectorAll('.suggestion-item');
    
    if (e.key === 'ArrowDown') {
      e.preventDefault();
      selectedIndex = Math.min(selectedIndex + 1, items.length - 1);
      updateSelection(items);
    } else if (e.key === 'ArrowUp') {
      e.preventDefault();
      selectedIndex = Math.max(selectedIndex - 1, -1);
      updateSelection(items);
    } else if (e.key === 'Enter') {
      e.preventDefault();
      if (selectedIndex >= 0 && items[selectedIndex]) {
        items[selectedIndex].click();
      } else {
        performSearch();
      }
    } else if (e.key === 'Escape') {
      suggestionsBox.classList.remove('active');
      searchInput.blur();
    }
  });

  function updateSelection(items) {
    items.forEach((item, idx) => {
      item.classList.toggle('selected', idx === selectedIndex);
    });
    if (selectedIndex >= 0 && items[selectedIndex]) {
      items[selectedIndex].scrollIntoView({ block: 'nearest' });
    }
  }

  // Close suggestions when clicking outside
  document.addEventListener('click', (e) => {
    if (!searchInput.contains(e.target) && !suggestionsBox.contains(e.target)) {
      suggestionsBox.classList.remove('active');
      searchInput.classList.remove('has-results');
    }
  });

  // Focus on "/" key
  document.addEventListener('keydown', (e) => {
    if (e.key === '/' && !['INPUT', 'TEXTAREA'].includes(document.activeElement.tagName)) {
      e.preventDefault();
      searchInput.focus();
    }
  });

  // Regular search function
  window.performSearch = function() {
    const query = searchInput.value.trim();
    if (query) {
      window.location.href = `/search.html?q=${encodeURIComponent(query)}`;
    }
  };
  
  // Mobile menu toggle
  window.toggleMobileMenu = function() {
    const menu = document.querySelector('.nav-menu');
    if (!menu) return;
    if (menu.style.display === 'flex') {
      menu.style.display = 'none';
    } else {
      menu.style.display = 'flex';
      menu.style.flexDirection = 'column';
      menu.style.position = 'absolute';
      menu.style.top = '100%';
      menu.style.left = '0';
      menu.style.right = '0';
      menu.style.background = '#fff';
      menu.style.padding = '20px';
      menu.style.boxShadow = '0 4px 12px rgba(0,0,0,0.1)';
    }
  };
})();
</script>
</body>
</html>
