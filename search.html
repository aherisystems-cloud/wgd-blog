<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<!-- Favicon -->
<link rel="icon" type="image/png" sizes="32x32" href="/content/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/content/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/content/images/apple-touch-icon.png">

<title>Search Results - Wow Glam Decor</title>
<meta name="robots" content="noindex, follow"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
:root{--brand:#7e0882;--brand-dark:#5a0660;--brand-light:#a020a8;--brand-pale:rgba(126,8,130,0.07);--off-white:#fafafa;--gray-100:#f5f5f5;--gray-200:#eee;--gray-600:#757575;--gray-800:#424242;--gray-900:#212121;--shadow-sm:0 2px 12px rgba(126,8,130,0.08);--shadow-md:0 8px 32px rgba(126,8,130,0.13);--radius:16px;--ease:cubic-bezier(0.4,0,0.2,1)}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Nunito',sans-serif;background:var(--off-white);color:var(--gray-900);line-height:1.6}
a{text-decoration:none}
.navbar{background:rgba(255,255,255,0.96);backdrop-filter:blur(16px);box-shadow:var(--shadow-sm);position:sticky;top:0;z-index:100}
.nav-container{max-width:1400px;margin:0 auto;padding:13px 24px;display:flex;align-items:center;justify-content:space-between;gap:24px}
.logo{height:48px}
.nav-menu{display:flex;gap:2px}
.nav-link{color:var(--gray-800);font-weight:700;font-size:14px;padding:8px 14px;border-radius:8px;transition:all 0.2s}
.nav-link:hover{background:var(--brand-pale);color:var(--brand)}
.search-box{position:relative;display:flex;align-items:center}
.search-input{width:320px;padding:8px 36px 8px 14px;border:2px solid var(--gray-200);border-radius:8px;font-family:'Nunito',sans-serif;font-size:14px;transition:all 0.2s}
.search-input:focus{outline:none;border-color:var(--brand);width:400px}
.search-btn{position:absolute;right:8px;background:none;border:none;cursor:pointer;font-size:18px;color:var(--gray-600);padding:4px}
.container{max-width:1200px;margin:0 auto;padding:40px 24px}
.search-header{text-align:center;margin-bottom:48px}
.search-header h1{font-size:2.5rem;font-weight:900;color:var(--gray-900);margin-bottom:12px}
.search-query{color:var(--brand);font-weight:800}
.results-count{color:var(--gray-600);font-size:1.1rem}
.loading{text-align:center;padding:60px 20px;font-size:1.2rem;color:var(--gray-600)}
.no-results{text-align:center;padding:60px 20px}
.no-results h2{font-size:1.8rem;font-weight:800;color:var(--gray-900);margin-bottom:16px}
.no-results p{color:var(--gray-600);font-size:1.1rem;margin-bottom:24px}
.suggestions{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
.suggestion-tag{background:var(--gray-100);color:var(--gray-800);padding:8px 16px;border-radius:20px;font-size:14px;font-weight:700;transition:all 0.2s}
.suggestion-tag:hover{background:var(--brand);color:#fff}
.posts-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:28px}
.post-card{background:#fff;border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow-sm);display:flex;flex-direction:column;transition:all 0.3s var(--ease);color:inherit}
.post-card:hover{transform:translateY(-5px);box-shadow:var(--shadow-md)}
.card-image-wrap{position:relative;overflow:hidden}
.card-image{width:100%;height:224px;object-fit:cover;transition:transform 0.45s}
.post-card:hover .card-image{transform:scale(1.06)}
.card-cat{position:absolute;bottom:12px;left:12px;background:var(--brand);color:#fff;padding:5px 12px;border-radius:16px;font-size:11px;font-weight:800;text-transform:uppercase}
.card-content{padding:24px;flex:1;display:flex;flex-direction:column}
.card-meta{display:flex;gap:12px;font-size:12px;color:var(--gray-600);margin-bottom:10px}
.card-title{font-size:1.15rem;font-weight:800;line-height:1.3;margin-bottom:10px;color:var(--gray-900)}
.card-excerpt{font-size:14px;color:var(--gray-600);line-height:1.65;flex:1;margin-bottom:16px}
.card-link{color:var(--brand);font-weight:800;font-size:14px;display:flex;align-items:center;gap:6px}
.post-card:hover .card-link{gap:10px}
.highlight{background:rgba(255,215,0,0.3);padding:2px 4px;border-radius:3px;font-weight:700}
footer{background:var(--gray-900);color:#fff;padding:40px 24px;margin-top:80px}
.footer-content{max-width:1200px;margin:0 auto;text-align:center}
.footer-content p{opacity:0.7;font-size:14px}
.footer-links{display:flex;gap:20px;justify-content:center;margin-top:16px}
.footer-links a{color:rgba(255,255,255,0.6);font-size:14px;transition:color 0.2s}
.footer-links a:hover{color:#fff}
@media(max-width:768px){.nav-menu{display:none}.search-input{width:180px}.search-input:focus{width:240px}.posts-grid{grid-template-columns:1fr}.search-header h1{font-size:1.8rem}}
</style>
</head>
<body>
<nav class="navbar">
  <div class="nav-container">
    <a href="/"><img src="/content/images/logo.jpg" alt="Wow Glam Decor" class="logo"></a>
    <div class="search-box">
      <input type="text" id="searchInput" class="search-input" placeholder="Search articles...">
      <button class="search-btn" onclick="performSearch()">üîç</button>
    </div>
    <div class="nav-menu">
      <a href="/" class="nav-link">Home</a>
      <a href="/blog.html" class="nav-link">Blog</a>
      <a href="/category/living-room.html" class="nav-link">Living Room</a>
      <a href="/category/bedroom.html" class="nav-link">Bedroom</a>
      <a href="/category/best-of-lists.html" class="nav-link">Best Of Lists</a>
      <a href="/about.html" class="nav-link">About</a>
    </div>
  </div>
</nav>

<div class="container">
  <div class="search-header">
    <h1>Search Results for "<span class="search-query" id="queryDisplay"></span>"</h1>
    <p class="results-count" id="resultsCount">Searching...</p>
  </div>
  
  <div id="searchResults" class="posts-grid">
    <div class="loading">üîç Searching posts...</div>
  </div>
</div>

<footer>
  <div class="footer-content">
    <p>&copy; 2026 Wow Glam Decor. All rights reserved.</p>
    <div class="footer-links">
      <a href="/privacy-policy.html">Privacy</a>
      <a href="/affiliate-disclosure.html">Disclosure</a>
      <a href="/sitemap.xml">Sitemap</a>
    </div>
  </div>
</footer>

<script>
// Get query parameter
function getQueryParam(param) {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get(param);
}

// Highlight search terms in text
function highlightText(text, query) {
  if (!query) return text;
  const regex = new RegExp(`(${query})`, 'gi');
  return text.replace(regex, '<span class="highlight">$1</span>');
}

// Perform search
async function performSearch() {
  const query = document.getElementById('searchInput').value.trim() || getQueryParam('q');
  
  if (!query) {
    document.getElementById('searchResults').innerHTML = `
      <div class="no-results">
        <h2>Please enter a search term</h2>
        <p>Try searching for topics like "living room", "bedroom decor", or "furniture"</p>
      </div>
    `;
    return;
  }
  
  // Update URL without reload
  if (window.history.pushState) {
    const newUrl = `/search.html?q=${encodeURIComponent(query)}`;
    window.history.pushState({path: newUrl}, '', newUrl);
  }
  
  // Update display
  document.getElementById('queryDisplay').textContent = query;
  document.getElementById('searchInput').value = query;
  document.getElementById('resultsCount').textContent = 'Searching...';
  document.getElementById('searchResults').innerHTML = '<div class="loading">üîç Searching posts...</div>';
  
  try {
    // Fetch posts data
    const response = await fetch('/posts.json');
    const posts = await response.json();
    
    // Search in title, description, content, tags, categories
    const searchLower = query.toLowerCase();
    const results = posts.filter(post => {
      const searchableText = [
        post.title,
        post.description,
        post.excerpt,
        post.content,
        post.category,
        ...(post.categories || []),
        ...(post.tags || [])
      ].join(' ').toLowerCase();
      
      return searchableText.includes(searchLower);
    });
    
    // Sort by relevance (title matches first, then description, then content)
    results.sort((a, b) => {
      const aTitle = a.title.toLowerCase().includes(searchLower) ? 3 : 0;
      const aDesc = a.description.toLowerCase().includes(searchLower) ? 2 : 0;
      const aCat = a.category.toLowerCase().includes(searchLower) ? 1 : 0;
      const bTitle = b.title.toLowerCase().includes(searchLower) ? 3 : 0;
      const bDesc = b.description.toLowerCase().includes(searchLower) ? 2 : 0;
      const bCat = b.category.toLowerCase().includes(searchLower) ? 1 : 0;
      return (bTitle + bDesc + bCat) - (aTitle + aDesc + aCat);
    });
    
    // Update results count
    const resultText = results.length === 1 ? '1 result' : `${results.length} results`;
    document.getElementById('resultsCount').textContent = `Found ${resultText}`;
    
    // Display results
    if (results.length === 0) {
      document.getElementById('searchResults').innerHTML = `
        <div class="no-results" style="grid-column: 1/-1;">
          <h2>No results found for "${query}"</h2>
          <p>Try searching with different keywords or browse our categories:</p>
          <div class="suggestions">
            <a href="/category/living-room.html" class="suggestion-tag">Living Room</a>
            <a href="/category/bedroom.html" class="suggestion-tag">Bedroom</a>
            <a href="/category/kitchen.html" class="suggestion-tag">Kitchen</a>
            <a href="/category/best-of-lists.html" class="suggestion-tag">Best Of Lists</a>
            <a href="/blog.html" class="suggestion-tag">All Posts</a>
          </div>
        </div>
      `;
    } else {
      const html = results.map(post => `
        <a href="${post.url}" class="post-card">
          <div class="card-image-wrap">
            <img src="${post.featured_image}" alt="${post.title}" class="card-image">
            <div class="card-cat">${post.category}</div>
          </div>
          <div class="card-content">
            <div class="card-meta">
              <span>üìÖ ${post.dateFormatted}</span>
              <span>‚è±Ô∏è ${post.readTime} min</span>
            </div>
            <h3 class="card-title">${highlightText(post.title, query)}</h3>
            <p class="card-excerpt">${highlightText(post.excerpt, query)}</p>
            <span class="card-link">Read More ‚Üí</span>
          </div>
        </a>
      `).join('');
      
      document.getElementById('searchResults').innerHTML = html;
    }
  } catch (error) {
    console.error('Search error:', error);
    document.getElementById('searchResults').innerHTML = `
      <div class="no-results" style="grid-column: 1/-1;">
        <h2>Oops! Something went wrong</h2>
        <p>We couldn't load the search results. Please try again or <a href="/blog.html" style="color: var(--brand); text-decoration: underline;">browse all posts</a>.</p>
      </div>
    `;
  }
}

// Enter key for search
document.getElementById('searchInput').addEventListener('keypress', (e) => {
  if (e.key === 'Enter') {
    performSearch();
  }
});

// Run search on page load
window.addEventListener('DOMContentLoaded', () => {
  const query = getQueryParam('q');
  if (query) {
    performSearch();
  } else {
    document.getElementById('searchResults').innerHTML = `
      <div class="no-results" style="grid-column: 1/-1;">
        <h2>What are you looking for?</h2>
        <p>Use the search box above to find articles about home decor, furniture, and design tips.</p>
      </div>
    `;
    document.getElementById('queryDisplay').textContent = '';
    document.getElementById('resultsCount').textContent = '';
  }
});
</script>
</body>
</html>
