<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Affiliate Blog Scheduler Pro</title>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<style>
body { font-family: Arial; background:#f4f6f8; margin:0; }
header { background:#111; color:#fff; padding:15px; text-align:center; }
nav { display:flex; background:#222; }
nav button { flex:1; padding:12px; color:#fff; background:none; border:none; cursor:pointer; }
nav button:hover { background:#444; }
section { display:none; padding:20px; }
.active { display:block; }
textarea,input { width:100%; padding:8px; margin:6px 0; }
.editor { display:flex; gap:15px; }
.editor textarea { height:480px; }
.preview { background:#fff; padding:15px; height:480px; overflow:auto; }
.panel { background:#fff; padding:15px; margin-bottom:15px; border-radius:5px; }
.score { font-size:22px; font-weight:bold; }
</style>
</head>

<body>

<header>
<h2>Affiliate Blog Scheduler Pro</h2>
</header>

<nav>
<button onclick="openTab('editor')">Editor</button>
<button onclick="openTab('seo')">SEO</button>
<button onclick="openTab('schedule')">Schedule</button>
<button onclick="openTab('deploy')">Deploy</button>
</nav>

<section id="editor" class="active">
<div class="panel">
<h3>Post Metadata</h3>

<input id="title" placeholder="Post Title">
<input id="slug" placeholder="Slug (best-robot-vacuum)">
<input id="description" placeholder="Meta Description">

<input id="categories" placeholder="Categories (comma separated)">
<input id="tags" placeholder="Tags (comma separated)">
<input id="seoKeywords" placeholder="SEO Keywords (comma separated)">

<label>
<input type="checkbox" id="disclaimer"> Add FTC Disclaimer
</label>
</div>

<div class="editor">
<textarea id="content" placeholder="Paste AI content here..."></textarea>
<div class="preview" id="preview"></div>
</div>
</section>

<section id="seo">
<div class="panel">
<h3>SEO Score</h3>
<div class="score" id="seoScore">0%</div>
<ul id="seoList"></ul>
</div>
</section>

<section id="schedule">
<div class="panel">
<h3>Scheduler</h3>
<input type="datetime-local" id="publishDate">
<button onclick="preparePost()">Prepare Post</button>
<pre id="finalPost"></pre>
</div>
</section>

<section id="deploy">
<div class="panel">
<h3>Local Save (GitHub Desktop)</h3>
<button onclick="saveDraft()">üíæ Save to drafts/</button>
</div>
</section>

<script>
function openTab(tab){
 document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
 document.getElementById(tab).classList.add('active');
}

const content = document.getElementById('content');
content.addEventListener('input',()=>{
 document.getElementById('preview').innerHTML = marked.parse(content.value);
 runSEO();
});

function runSEO(){
 let score=0, report=[];
 let text=content.value;

 if(text.length>800){score+=20;report.push("‚úì Length OK")} else report.push("‚úó Too short");
 if(text.includes("##")){score+=20;report.push("‚úì Headings")} else report.push("‚úó No headings");
 if(text.match(/\[.*?\]\(.*?\)/)){score+=20;report.push("‚úì Links")} else report.push("‚úó No links");
 if(text.includes("![")){score+=20;report.push("‚úì Images")} else report.push("‚úó No images");
 if(title.value.length>20){score+=20;report.push("‚úì Title length")} else report.push("‚úó Short title");

 seoScore.innerText=score+"%";
 seoList.innerHTML="";
 report.forEach(r=>{let li=document.createElement("li");li.innerText=r;seoList.appendChild(li);});
}

function preparePost(){
 let cats = categories.value.split(",").map(c=>c.trim());
 let tagsArr = tags.value.split(",").map(t=>t.trim());
 let keys = seoKeywords.value.split(",").map(k=>k.trim());

 let frontmatter =
`---
title: "${title.value}"
description: "${description.value}"
slug: "${slug.value}"
date: ${publishDate.value}
categories:
${cats.map(c=>"  - "+c).join("\n")}
tags:
${tagsArr.map(t=>"  - "+t).join("\n")}
keywords:
${keys.map(k=>"  - "+k).join("\n")}
status: draft
---\n\n`;

 let disclosure = disclaimer.checked
 ? "\n---\n‚ö†Ô∏è Disclosure: This post contains affiliate links.\n---\n\n"
 : "";

 finalPost.innerText = frontmatter + disclosure + content.value;
}

function saveDraft(){
 if(!finalPost.innerText){ alert("Prepare post first"); return; }
 let filename = `drafts/${slug.value}.md`;
 let blob = new Blob([finalPost.innerText],{type:"text/markdown"});
 let a=document.createElement("a");
 a.href=URL.createObjectURL(blob);
 a.download=filename;
 a.click();
}
</script>

</body>
</html>
