<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ğŸ“… Affiliate Blog Scheduler | WowGlamDecor</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

<style>

* { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --primary: #7C3AED;
  --secondary: #EC4899;
  --success: #10B981;
  --warning: #F59E0B;
  --danger: #EF4444;
  --bg: #F9FAFB;
  --dark: #111827;
}

body {
  font-family: 'Inter', sans-serif;
  background: linear-gradient(135deg,#667eea,#764ba2);
  min-height:100vh;
  padding:20px;
}

.app {
  max-width:1200px;
  margin:auto;
  background:white;
  border-radius:16px;
  padding:25px;
  box-shadow:0 20px 40px rgba(0,0,0,0.2);
}

/* HEADER */

.header {
  text-align:center;
  margin-bottom:25px;
}

.header h1 {
  font-size:2.2rem;
  color:var(--dark);
}

/* TABS */

.tabs {
  display:flex;
  gap:10px;
  margin-bottom:25px;
  flex-wrap:wrap;
}

.tab {
  padding:10px 18px;
  border:none;
  background:#E5E7EB;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
}

.tab.active {
  background:var(--primary);
  color:white;
}

/* CONTENT */

.tab-content {
  display:none;
}

.tab-content.active {
  display:block;
}

/* FORMS */

input, select, textarea {
  width:100%;
  padding:10px;
  margin-bottom:12px;
  border-radius:6px;
  border:1px solid #ccc;
}

button.primary {
  background:var(--primary);
  color:white;
  border:none;
  padding:10px 18px;
  border-radius:8px;
  cursor:pointer;
}

button.secondary {
  background:var(--secondary);
  color:white;
  border:none;
  padding:8px 15px;
  border-radius:6px;
}

/* TABLE */

table {
  width:100%;
  border-collapse:collapse;
  margin-top:15px;
}

th,td {
  padding:10px;
  border-bottom:1px solid #ddd;
  text-align:left;
}

/* WARNINGS */

.warning {
  background:#FEF3C7;
  padding:15px;
  border-radius:8px;
  margin-bottom:15px;
}

.success {
  background:#D1FAE5;
  padding:12px;
  border-radius:8px;
  margin-bottom:15px;
}

</style>
</head>

<body>

<div class="app">

  <!-- HEADER -->
  <div class="header">
    <h1>ğŸ“… Affiliate Blog Scheduler</h1>
    <p>Plan Content â€¢ Manage Links â€¢ Monetize Smarter</p>
  </div>

  <!-- TABS -->
  <div class="tabs">

    <button class="tab active" onclick="switchTab('planner')">ğŸ“ Planner</button>

    <button class="tab" onclick="switchTab('calendar')">ğŸ“† Calendar</button>

    <button class="tab" onclick="switchTab('affiliates')">ğŸ’° Affiliates</button>

    <button class="tab" onclick="switchTab('stats')">ğŸ“Š Stats</button>

  </div>


  <!-- ================= PLANNER ================= -->

  <div id="planner" class="tab-content active">

    <h2>ğŸ“ Content Planner</h2>

    <input id="postTitle" placeholder="Post Title">

    <input id="postKeyword" placeholder="Main Keyword">

    <input id="postDate" type="date">

    <textarea id="postNotes" rows="3" placeholder="Notes / Outline"></textarea>

    <select id="affiliateLinkSelect"></select>

    <button class="primary" onclick="addPost()">Add Post</button>

    <table id="postsTable">
      <thead>
        <tr>
          <th>Title</th>
          <th>Date</th>
          <th>Keyword</th>
          <th>Affiliate</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

  </div>


  <!-- ================= CALENDAR ================= -->

  <div id="calendar" class="tab-content">

    <h2>ğŸ“† Publishing Calendar</h2>

    <div id="calendarList"></div>

  </div>


  <!-- ================= AFFILIATES ================= -->

  <div id="affiliates" class="tab-content">

    <h2>ğŸ’° Affiliate Manager</h2>

    <div class="warning">
      âš ï¸ Amazon & some networks don't allow cloaking. Use direct links.
    </div>

    <input id="productName" placeholder="Product Name">

    <input id="affiliateUrl" placeholder="Affiliate URL">

    <select id="network">
      <option>Amazon</option>
      <option>Jumia</option>
      <option>Impact</option>
      <option>PartnerStack</option>
      <option>Other</option>
    </select>

    <label>
      <input type="checkbox" id="cloakLink"> Cloak Link
    </label>

    <br><br>

    <button class="primary" onclick="addAffiliate()">Save Link</button>

    <table id="affiliateTable">
      <thead>
        <tr>
          <th>Product</th>
          <th>Network</th>
          <th>Link</th>
          <th></th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

  </div>


  <!-- ================= STATS ================= -->

  <div id="stats" class="tab-content">

    <h2>ğŸ“Š Monetization Overview</h2>

    <div class="success" id="statsBox"></div>

  </div>


</div>


<!-- ================= SCRIPT ================= -->

<script>

/* ---------------- TAB SWITCH ---------------- */

function switchTab(tab) {

  document.querySelectorAll('.tab').forEach(b=>b.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));

  event.target.classList.add('active');
  document.getElementById(tab).classList.add('active');

  if(tab==="calendar") loadCalendar();
  if(tab==="stats") loadStats();

}


/* ---------------- STORAGE ---------------- */

let posts = JSON.parse(localStorage.getItem("posts")||"[]");
let affiliates = JSON.parse(localStorage.getItem("affiliates")||"[]");


/* ---------------- POSTS ---------------- */

function addPost(){

  let post = {
    title: postTitle.value,
    keyword: postKeyword.value,
    date: postDate.value,
    notes: postNotes.value,
    affiliate: affiliateLinkSelect.value
  };

  if(!post.title || !post.date) return alert("Missing fields");

  posts.push(post);

  localStorage.setItem("posts",JSON.stringify(posts));

  renderPosts();

  postTitle.value="";
  postKeyword.value="";
  postNotes.value="";
}


function renderPosts(){

  let tbody = document.querySelector("#postsTable tbody");

  tbody.innerHTML="";

  posts.forEach(p=>{

    tbody.innerHTML+=`

      <tr>
        <td>${p.title}</td>
        <td>${p.date}</td>
        <td>${p.keyword}</td>
        <td>${p.affiliate||"-"}</td>
      </tr>

    `;

  });

}


/* ---------------- AFFILIATES ---------------- */

function addAffiliate(){

  let networkVal = network.value.toLowerCase();

  let cloak = cloakLink.checked && !networkVal.includes("amazon");

  let link = {
    id:Date.now(),
    name:productName.value,
    url:affiliateUrl.value,
    network:network.value,
    cloak
  };

  if(!link.name || !link.url) return alert("Fill all fields");

  affiliates.push(link);

  localStorage.setItem("affiliates",JSON.stringify(affiliates));

  renderAffiliates();
  loadAffiliateSelect();

  productName.value="";
  affiliateUrl.value="";
  cloakLink.checked=false;

}


function renderAffiliates(){

  let tbody = document.querySelector("#affiliateTable tbody");

  tbody.innerHTML="";

  affiliates.forEach(a=>{

    tbody.innerHTML+=`

      <tr>
        <td>${a.name}</td>
        <td>${a.network}</td>
        <td><a href="${a.url}" target="_blank">Visit</a></td>
        <td><button onclick="deleteAffiliate(${a.id})">âŒ</button></td>
      </tr>

    `;

  });

}


function deleteAffiliate(id){

  affiliates = affiliates.filter(a=>a.id!==id);

  localStorage.setItem("affiliates",JSON.stringify(affiliates));

  renderAffiliates();
  loadAffiliateSelect();

}


/* ---------------- DROPDOWN ---------------- */

function loadAffiliateSelect(){

  affiliateLinkSelect.innerHTML="<option value=''>-- Select Affiliate --</option>";

  affiliates.forEach(a=>{

    affiliateLinkSelect.innerHTML+=`

      <option value="${a.name}">
        ${a.name} (${a.network})
      </option>

    `;

  });

}


/* ---------------- CALENDAR ---------------- */

function loadCalendar(){

  let div=document.getElementById("calendarList");

  div.innerHTML="";

  posts
    .sort((a,b)=>new Date(a.date)-new Date(b.date))
    .forEach(p=>{

      div.innerHTML+=`

        <p>ğŸ“Œ <b>${p.date}</b> â€” ${p.title}</p>

      `;

    });

}


/* ---------------- STATS ---------------- */

function loadStats(){

  let withAffiliate = posts.filter(p=>p.affiliate).length;

  let stats = `
    <b>Total Posts:</b> ${posts.length}<br>
    <b>Monetized Posts:</b> ${withAffiliate}<br>
    <b>Affiliate Links:</b> ${affiliates.length}<br>
    <b>Revenue Potential:</b> ${withAffiliate*500} KES+
  `;

  statsBox.innerHTML = stats;

}


/* ---------------- INIT ---------------- */

renderPosts();
renderAffiliates();
loadAffiliateSelect();

</script>

</body>
</html>
